description: Run TPC benchmark using NQE on Serverless Premium
environmentConfig:
  executionConfig:
    idleTtl: 28800s
    serviceAccount: sparkpoc-sa@nishitkamdarargo.iam.gserviceaccount.com
    subnetworkUri: sparkpoc-subnet
    ttl: 86400s
jupyterSession:
  displayName: Premium with NQE for running TPC Benchmark
  kernel: PYTHON
labels:
  client: bigquery-jupyter-plugin
runtimeConfig:
  properties:
    spark.dataproc.driver.compute.tier: premium
    spark.dataproc.driver.disk.size: 750g
    spark.dataproc.driver.disk.tier: premium
    spark.dataproc.executor.compute.tier: premium
    spark.dataproc.executor.disk.size: 750g
    spark.dataproc.executor.disk.tier: premium
    spark.dataproc.runtimeEngine: native
    spark.driver.cores: '16'
    spark.driver.memory: 58g
    spark.dynamicAllocation.enabled: 'false'
    spark.executor.cores: '16'
    spark.executor.instances: '10'
    spark.executor.memory: 8485m
    spark.gluten.sql.columnar.backend.velox.glogSeverityLevel: '2'
    spark.hadoop.fs.gs.grpc.enable: 'false'
    spark.log.level: ERROR
    spark.memory.offHeap.enabled: 'true'
    spark.memory.offHeap.size: 50407m
  version: '2.2'
